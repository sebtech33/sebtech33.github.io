<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Testing for unraid - Sebtech33</title><meta name="robots" content="noindex,nofollow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="alternate" type="application/atom+xml" href="https://sebtech33.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://sebtech33.github.io/feed.json"><meta property="og:title" content="Testing for unraid"><meta property="og:image" content="https://sebtech33.github.io/media/posts/2/528px-Qemu_logo.svg.png"><meta property="og:site_name" content="Sebtech33"><meta property="og:description" content="Passthrough a keyboard/mouse to a vm whose os doesn't support usb and or to pass a ps2 keyboard/mouse on your server. (qemu 2.6 onwards) 1/. List your input devices by running this command ls /dev/input/by-id/ Will look simalar to the below usb-Logitech_USB_Receiver-event-if01@ usb-Logitech_USB_Receiver-if01-event-mouse@usb-Logitech_USB_Receiver-event-kbd@ usb-Logitech_USB_Receiver-if01-mouse@ 2/. run this command&hellip;"><meta property="og:url" content="https://sebtech33.github.io/testing-for-unraid/"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://sebtech33.github.io/assets/css/style.css?v=e9c91d7aa18a268a581694bffa3c69ce"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://sebtech33.github.io/testing-for-unraid/"},"headline":"Testing for unraid","datePublished":"2020-09-09T23:38","dateModified":"2020-09-09T23:38","image":{"@type":"ImageObject","url":"https://sebtech33.github.io/media/posts/2/528px-Qemu_logo.svg.png","height":168,"width":528},"description":"Passthrough a keyboard/mouse to a vm whose os doesn't support usb and or to pass a ps2 keyboard/mouse on your server. (qemu 2.6 onwards) 1/. List your input devices by running this command ls /dev/input/by-id/ Will look simalar to the below usb-Logitech_USB_Receiver-event-if01@ usb-Logitech_USB_Receiver-if01-event-mouse@usb-Logitech_USB_Receiver-event-kbd@ usb-Logitech_USB_Receiver-if01-mouse@ 2/. run this command&hellip;","author":{"@type":"Person","name":"Sebastian"},"publisher":{"@type":"Organization","name":"Sebastian"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://sebtech33.github.io/">Sebtech33</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://sebtech33.github.io/media/posts/2/528px-Qemu_logo.svg.png" srcset="https://sebtech33.github.io/media/posts/2/responsive/528px-Qemu_logo.svg-xs.png 300w, https://sebtech33.github.io/media/posts/2/responsive/528px-Qemu_logo.svg-sm.png 480w, https://sebtech33.github.io/media/posts/2/responsive/528px-Qemu_logo.svg-md.png 768w, https://sebtech33.github.io/media/posts/2/responsive/528px-Qemu_logo.svg-lg.png 1024w, https://sebtech33.github.io/media/posts/2/responsive/528px-Qemu_logo.svg-xl.png 1360w, https://sebtech33.github.io/media/posts/2/responsive/528px-Qemu_logo.svg-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="168" width="528" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2020-09-09T23:38">Wednesday, 9 September 2020</time></div><h1>Testing for unraid</h1><div class="post__meta post__meta--author"><img src="https://sebtech33.github.io/media/website/mineral_4k_desktop-2.jpg" loading="eager" alt="Sebastian" class="post__author-thumb"> <a href="https://sebtech33.github.io/authors/sebtech33/" class="feed__author invert">Sebastian</a></div></div></header></div><div class="wrapper post__entry"><div>Passthrough a keyboard/mouse to a vm whose os doesn't support usb and or to pass a ps2 keyboard/mouse on your server.   (qemu 2.6 onwards)</div><div> </div><div> </div><div>1/.</div><div> </div><div>List your input devices by running this command</div><div> </div><div> </div><div>ls /dev/input/by-id/ </div><div> </div><div> </div><div>Will look simalar to the below</div><div> </div><div>usb-Logitech_USB_Receiver-event-if01@  usb-Logitech_USB_Receiver-if01-event-mouse@</div><div>usb-Logitech_USB_Receiver-event-kbd@   usb-Logitech_USB_Receiver-if01-mouse@</div><div> </div><div> </div><div>2/.</div><div> </div><div>run this command then click buttons on keyboard etc</div><div> </div><div>cat /dev/input/by-id/usb-Logitech_USB_Receiver-event-kbd</div><div> </div><div>cat /dev/input/by-id/usb-Logitech_USB_Receiver-if01-event-mouse</div><div> </div><div> </div><div>Do this for each device then press buttons on keyboard and move mouse and you should see</div><div> </div><div> </div><div>3/.</div><div> </div><div>Next we need to add our input devices to the qemu conf file</div><div> </div><div>nano /etc/libvirt/qemu.conf</div><div> </div><div> </div><div>use  (ctrl _ ) to goto line 451    </div><div> </div><div>find this part</div><div> </div><div>#cgroup_device_acl = [</div><div>#    "/dev/null", "/dev/full", "/dev/zero",</div><div>#    "/dev/random", "/dev/urandom",</div><div>#    "/dev/ptmx", "/dev/kvm", "/dev/kqemu",</div><div>#    "/dev/rtc","/dev/hpet"</div><div># ]</div><div> </div><div> </div><div> </div><div>Remove hashtags then add the parts in that you want to use</div><div> </div><div>cgroup_device_acl = [</div><div>   "/dev/null", "/dev/full", "/dev/zero",</div><div>   "/dev/random", "/dev/urandom",</div><div>   "/dev/ptmx", "/dev/kvm", "/dev/kqemu",</div><div>   "/dev/rtc","/dev/hpet"</div><div>   "/dev/input/by-id/usb-Logitech_USB_Receiver-event-kbd",</div><div>   "/dev/input/by-id/usb-Logitech_USB_Receiver-if01-event-mouse",</div><div>]</div><div> </div><div>########################################################################################################</div><div>##### obviously change the   usb-Logitech_USB_Receiver-event-kbd   and   usb-Logitech_USB_Receiver-if01-event-mouse  to what the ids of your devices are.</div><div>#########################################################################################################</div><div> </div><div> </div><div>4/.</div><div> </div><div>Reboot server for changes to take effect</div><div> </div><div> </div><div>5/.</div><div> </div><div>Next at bottom of vm xml</div><div> </div><div>Remove line </div><div> </div><div>&lt;/domain&gt;</div><div> </div><div>Replace with</div><div> </div><div> </div><div> </div><div>&lt;qemu:commandline&gt;</div><div>&lt;qemu:arg value='-object'/&gt;</div><div>&lt;qemu:arg value='input-linux,id=kbd,evdev=/dev/input/by-id/xxxxyourkeyboardidxxxxxxxx,grab_all=on,repeat=on'/&gt;</div><div>&lt;qemu:arg value='-object'/&gt;</div><div>&lt;qemu:arg value='input-linux,id=mouse,evdev=/dev/input/by-id/xxxxxxxxyourmouseidxxxxxxxx'/&gt;</div><div>&lt;/qemu:commandline&gt;</div><div>&lt;/domain&gt;</div><div> </div><div>for example mine looked like the below</div><div> </div><div>&lt;qemu:commandline&gt;</div><div>&lt;qemu:arg value='-object'/&gt;</div><div>&lt;qemu:arg value='input-linux,id=kbd,evdev=/dev/input/by-id/usb-Logitech_USB_Receiver-event-kbd,grab_all=on,repeat=on'/&gt;</div><div>&lt;qemu:arg value='-object'/&gt;</div><div>&lt;qemu:arg value='input-linux,id=mouse,evdev=/dev/input/by-id/usb-Logitech_USB_Receiver-if01-event-mouse'/&gt;</div><div>&lt;/qemu:commandline&gt;</div><div>&lt;/domain&gt;</div><div> </div><div> </div><div>6/.</div><div>(optional) add keyboard/mouse as virtio devices by adding the below to the xml</div><div> </div><div>&lt;input type='keyboard' bus='virtio'&gt;</div><div>&lt;/input&gt;</div><div>&lt;input type='mouse' bus='virtio'&gt;</div><div>&lt;/input&gt;</div><div> </div></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on Wednesday, 9 September 2020</p><ul class="post__tag"><li><a href="https://sebtech33.github.io/tag/unraid/">Unraid</a></li></ul><div class="post__share"><a href="https://twitter.com/share?url=https%3A%2F%2Fsebtech33.github.io%2Ftesting-for-unraid%2F&amp;via=%40sebtech33&amp;text=Testing%20for%20unraid" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://sebtech33.github.io/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div><div class="post__bio bio"><img class="bio__avatar" src="https://sebtech33.github.io/media/website/mineral_4k_desktop-2.jpg" loading="lazy" alt="Sebastian"><div class="bio__info"><h3 class="bio__name"><a href="https://sebtech33.github.io/authors/sebtech33/" class="invert" rel="author">Sebastian</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://sebtech33.github.io/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://sebtech33.github.io/test/" class="invert post__nav-link" rel="prev"><span>Previous</span> test</a></div></div></nav></main><footer class="footer"><div class="footer__copyright">Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii Static CMS</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://sebtech33.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'overlay',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://sebtech33.github.io/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>